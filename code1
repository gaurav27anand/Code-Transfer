@app.route('/show/<path:subpath>')
def show_directory_contents(subpath):
    # Combine the base path with the user-entered path
    full_path = os.path.join(BASE_PATH, subpath)

    # Check if the path is a directory
    if os.path.isdir(full_path):
        # List the contents of the directory
        files = os.listdir(full_path)
        directories = [d for d in files if os.path.isdir(os.path.join(full_path, d))]
        regular_files = [f for f in files if os.path.isfile(os.path.join(full_path, f))]
        
        return render_template('directory.html', 
                               directories=directories, 
                               regular_files=regular_files, 
                               base_path=BASE_PATH, 
                               subpath=subpath)
    else:
        return abort(404)
