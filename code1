# Track uptime and memory usage
start_time = time.time()
metrics.info('app_uptime_seconds', 'Uptime of the Flask app in seconds')
metrics.info('memory_usage_bytes', 'Memory usage of the Flask app in bytes')
metrics.info('hostname', 'Hostname of the Flask app')

@app.before_request
def update_metrics():
    """Update uptime and memory usage before each request."""
    uptime = time.time() - start_time
    memory_usage = psutil.Process().memory_info().rss

    # Set the metric values
    metrics.info('app_uptime_seconds').set(uptime)
    metrics.info('memory_usage_bytes').set(memory_usage)
    metrics.info('hostname').set(hostname)
